# ICT项目管理系统 - 设计文档

## 1. 项目背景

### 1.1 业务场景
本公司承接**电信公司分包的小微ICT业务**，业务流程如下：

```
┌─────────────┐      ┌─────────────┐      ┌─────────────┐
│   终端客户   │ ───> │  电信公司   │ ───> │  本公司     │
│ (提出需求)   │      │ (总包/分包)  │      │ (实施方)    │
└─────────────┘      └─────────────┘      └─────────────┘
                                                    │
                                                    ▼
                                          ┌─────────────────┐
                                          │  项目执行流程    │
                                          ├─────────────────┤
                                          │ 1. 需求调研      │
                                          │ 2. 方案设计      │
                                          │ 3. 设备采购      │
                                          │ 4. 现场实施      │
                                          │ 5. 测试验收      │
                                          │ 6. 交付售后      │
                                          └─────────────────┘
```

### 1.2 典型ICT项目类型

| 项目类型 | 说明 | 典型交付物 |
|---------|------|-----------|
| **网络布线** | 综合布线、光纤敷设 | 布线图、测试报告 |
| **安防监控** | 摄像头安装、NVR配置 | 设备清单、录像测试 |
| **视频会议** | 会议终端、MCU部署 | 系统配置、联调报告 |
| **云资源接入** | 云主机、云存储配置 | 资源清单、开通确认单 |
| **企业专线** | 互联网专线、MPLS VPN | 电路确认单、测速报告 |
| **弱电工程** | 门禁、考勤、停车场 | 设备清单、验收报告 |

### 1.3 业务痛点

| 痛点 | 说明 |
|------|------|
| **项目分散** | 多个小项目同时进行，难以统一管理 |
| **采购繁杂** | 设备种类多、供应商多，采购记录易混乱 |
| **利润不清晰** | 分包项目收入固定，但成本统计困难 |
| **进度跟踪难** | 现场实施进度依赖人工汇报 |
| **交付标准不一** | 各项目交付文档缺乏规范 |

### 1.4 项目目标
构建一套**轻量级ICT项目管理系统**，实现：
- 项目全流程数字化管理
- 收支记录与利润实时核算
- 物流信息跟踪
- 现场实施进度可视化
- 标准化交付文档生成

---

## 2. 功能模块设计

### 2.1 项目管理模块

#### 2.1.1 项目立项
| 字段 | 说明 |
|------|------|
| 项目名称 | 如：XX企业安防监控项目 |
| 电信项目编号 | 电信公司派单号 |
| 客户名称 | 最终客户名称 |
| 项目类型 | 网络布线/安防监控/视频会议等 |
| 分包金额 | 电信公司分包给我们的合同金额 |
| 项目经理 | 项目负责人 |
| 预计工期 | 开始/结束日期 |
| 项目地址 | 现场实施地址 |

#### 2.1.2 项目状态流转
```
待立项 ──> 需求调研 ──> 方案确认 ──> 采购中 ──> 实施中 ──> 待验收 ──> 已交付 ──> 已结算
            │                                    │
            └──────────> 已取消 ─────────────────┘
```

#### 2.1.3 项目视图
- 列表视图：项目卡片展示关键信息
- 看板视图：按状态分列的项目看板

---

### 2.2 财务管理模块（收支记录）

#### 2.2.1 收入记录

记录从电信公司收取的款项：

| 功能 | 说明 |
|------|------|
| 收款登记 | 记录收款金额、收款日期、收款方式 |
| 阶段款记录 | 首付款、进度款、验收款 |
| 开票记录 | 向电信开具的发票记录 |
| 到账确认 | 实际到账时间确认 |

#### 2.2.2 支出记录

记录项目各类支出：

| 支出类型 | 说明 |
|---------|------|
| **设备采购** | 采购硬件设备的费用 |
| **工程施工** | 外包施工队费用 |
| **差旅费用** | 现场实施产生的交通、住宿费 |
| **业务费用** | 招待、协调等其他费用 |

每笔支出记录包含：
- 支出金额
- 支出日期
- 支出类型
- 支付对象（供应商/施工队等）
- 发票号
- 备注

#### 2.2.3 利润核算

```
项目毛利 = 收入总额 - 支出总额
毛利率 = 项目毛利 / 收入总额 × 100%
```

系统自动计算：
- 收入汇总
- 支出汇总
- 实时利润显示
- 收支明细列表

#### 2.2.4 财务报表
- 项目收支明细表
- 月度汇总报表
- 利润统计表

---

### 2.3 采购管理模块

#### 2.3.1 设备采购

| 功能 | 说明 |
|------|------|
| 采购申请 | 根据项目方案生成设备清单 |
| 询价比价 | 记录多个供应商报价 |
| 采购订单 | 生成采购单，记录合同金额 |
| 供应商管理 | 供应商信息登记 |

#### 2.3.2 设备清单

ICT常用设备分类：
| 分类 | 典型设备 |
|------|---------|
| **网络设备** | 交换机、路由器、防火墙 |
| **安防设备** | 摄像机、NVR、硬盘 |
| **视频会议** | 终端、麦克风、显示屏 |
| **布线材料** | 光纤、网线、线槽 |
| **辅材配件** | 支架、电源、接头 |

---

### 2.4 物流管理模块

#### 2.4.1 物流信息记录

记录设备发货和运输信息：

| 功能 | 说明 |
|------|------|
| 物流单号 | 记录快递/物流单号 |
| 物流公司 | 记录物流公司名称 |
| 发货时间 | 记录发货时间 |
| 预计到达 | 记录预计到达时间 |
| 收货确认 | 确认收货时间 |
| 物流状态 | 在途/已签收/异常 |

#### 2.4.2 物流跟踪

- 关联采购订单
- 记录发货物品清单
- 跟踪物流状态
- 物流异常提醒

---

### 2.5 实施进度模块

#### 2.5.1 标准实施流程

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  需求调研   │───>│  方案设计   │───>│  方案确认   │
│  现场勘查   │    │  设备清单   │    │  客户签字   │
└─────────────┘    └─────────────┘    └─────────────┘
       │                                     │
       ▼                                     ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  现场实施   │<───│  设备采购   │    │  项目变更   │
│  进度日志   │    │  物流跟踪   │    │  变更单据   │
└─────────────┘    └─────────────┘    └─────────────┘
       │
       ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  测试验收   │───>│  交付文档   │───>│  售后跟进   │
│  签字确认   │    │  资料归档   │    │  质保记录   │
└─────────────┘    └─────────────┘    └─────────────┘
```

#### 2.5.2 进度跟踪

| 功能 | 说明 |
|------|------|
| 阶段设置 | 配置标准实施阶段 |
| 进度更新 | 每日/每周进度更新 |
| 现场照片 | 实施过程照片上传 |
| 问题记录 | 实施中遇到的问题与解决 |

#### 2.5.3 任务管理

| 典型任务 | 负责人 | 交付物 |
|---------|--------|-------|
| 现场勘查 | 项目经理 | 勘查报告 |
| 设备采购 | 采购专员 | 设备清单 |
| 布线施工 | 施工队 | 布线图 |
| 设备安装 | 技术人员 | 安装记录 |
| 系统调试 | 技术人员 | 配置清单 |
| 客户培训 | 项目经理 | 培训签到表 |

---

### 2.6 交付与售后模块

#### 2.6.1 交付文档生成

系统自动生成标准交付文档：

| 文档类型 | 内容 |
|---------|------|
| **开工报告** | 项目信息、人员、计划 |
| **设备清单** | 交付设备明细、序列号 |
| **配置清单** | 网络配置、IP地址等 |
| **测试报告** | 测试项目、测试结果 |
| **验收报告** | 验收项、客户签字 |
| **竣工图纸** | 拓扑图、点位图 |
| **操作手册** | 设备操作说明 |
| **移交清单** | 移交物品、资料清单 |

#### 2.6.2 售后服务

| 功能 | 说明 |
|------|------|
| 质保期管理 | 设备质保期限记录 |
| 故障报修 | 客户报修记录 |
| 维修记录 | 售后维修过程 |
| 质保到期提醒 | 质保期到期前提醒 |

---

## 3. 数据库设计

### 3.1 核心数据表

#### 项目表 (ict_projects)
```sql
- id: 项目ID
- project_code: 项目编号
- telecom_code: 电信项目编号
- project_name: 项目名称
- customer_name: 客户名称
- project_type: 项目类型
- project_address: 项目地址
- contract_amount: 分包合同金额
- manager_id: 项目经理ID
- start_date: 开始日期
- end_date: 结束日期
- status: 状态
- description: 项目描述
- created_at: 创建时间
- updated_at: 更新时间
```

#### 客户表 (customers)
```sql
- id: 客户ID
- name: 客户名称
- contact_person: 联系人
- contact_phone: 联系电话
- address: 客户地址
- industry: 行业
- created_at: 创建时间
```

#### 收支记录表 (financial_records)
```sql
- id: 记录ID
- project_id: 项目ID
- record_type: 记录类型（income/expense）
- cost_category: 成本分类（设备/施工/差旅/业务）
- amount: 金额
- description: 说明
- invoice_no: 发票号
- payee: 收款人/付款人（供应商/客户等）
- transaction_date: 交易日期
- status: 状态（待支付/已支付/待收款/已收款）
- attachment: 附件
- created_at: 创建时间
```

#### 供应商表 (suppliers)
```sql
- id: 供应商ID
- name: 供应商名称
- contact_person: 联系人
- contact_phone: 联系电话
- email: 邮箱
- address: 地址
- bank_account: 银行账号
- created_at: 创建时间
```

#### 采购单表 (purchase_orders)
```sql
- id: 采购单ID
- order_no: 采购单号
- project_id: 项目ID
- supplier_id: 供应商ID
- total_amount: 总金额
- order_date: 下单日期
- expected_date: 预计到货日期
- status: 状态
- created_at: 创建时间
```

#### 采购明细表 (purchase_items)
```sql
- id: ID
- order_id: 采购单ID
- device_name: 设备名称
- device_spec: 设备规格
- brand: 品牌
- quantity: 数量
- unit_price: 单价
- total_price: 小计
```

#### 物流信息表 (logistics)
```sql
- id: ID
- purchase_order_id: 采购单ID
- logistics_no: 物流单号
- logistics_company: 物流公司
- ship_date: 发货时间
- expected_arrival: 预计到达时间
- actual_arrival: 实际到达时间
- status: 状态（在途/已签收/异常）
- receiver: 收货人
- notes: 备注
- created_at: 创建时间
```

#### 任务表 (tasks)
```sql
- id: 任务ID
- project_id: 项目ID
- title: 任务标题
- description: 任务描述
- task_type: 任务类型
- assignee_id: 负责人ID
- priority: 优先级
- status: 状态
- start_date: 开始日期
- due_date: 截止日期
- progress: 进度百分比
- parent_task_id: 父任务ID
- created_at: 创建时间
```

#### 进度日志表 (progress_logs)
```sql
- id: 日志ID
- project_id: 项目ID
- task_id: 任务ID
- stage: 当前阶段
- progress_desc: 进度描述
- issues: 遇到问题
- photos: 现场照片
- reporter_id: 汇报人ID
- report_date: 汇报日期
- created_at: 创建时间
```

#### 交付文档表 (deliverables)
```sql
- id: ID
- project_id: 项目ID
- doc_type: 文档类型
- doc_name: 文档名称
- file_path: 文件路径
- version: 版本号
- status: 状态
- created_at: 创建时间
```

#### 售后服务表 (after_sales)
```sql
- id: ID
- project_id: 项目ID
- service_type: 服务类型
- issue_desc: 问题描述
- handler_id: 处理人
- solution: 解决方案
- service_date: 服务日期
- status: 状态
- warranty_expire: 质保到期日期
- created_at: 创建时间
```

#### 用户表 (users)
```sql
- id: 用户ID
- username: 用户名
- real_name: 姓名
- role: 角色
- department: 部门
- phone: 电话
- email: 邮箱
- status: 状态
- created_at: 创建时间
```

---

## 4. 用户界面设计

### 4.1 页面结构

```
├── 仪表盘 (Dashboard)
│   ├── 项目概览统计（进行中/本月完成/待处理）
│   ├── 财务概览（本月收入/支出/利润）
│   ├── 待办事项（待采购/待验收/待收款）
│   └── 近期活动
│
├── 项目管理
│   ├── 项目列表
│   ├── 项目看板
│   ├── 项目详情
│   │   ├── 基本信息
│   │   ├── 收支概况
│   │   ├── 采购记录
│   │   ├── 物流跟踪
│   │   ├── 实施进度
│   │   └── 交付文档
│   └── 新建项目
│
├── 采购管理
│   ├── 采购订单
│   │   ├── 采购申请
│   │   ├── 订单列表
│   │   └── 订单详情
│   ├── 供应商管理
│   └── 设备清单
│
├── 财务管理
│   ├── 收支记录
│   │   ├── 收入记录
│   │   ├── 支出记录
│   │   └── 收支明细
│   └── 财务报表
│
├── 进度管理
│   ├── 任务列表
│   ├── 进度日志
│   ├── 现场照片
│   └── 里程碑
│
├── 交付售后
│   ├── 交付文档
│   │   ├── 文档列表
│   │   ├── 文档生成
│   │   └── 文档模板
│   └── 售后服务
│
└── 系统设置
    ├── 用户管理
    ├── 角色权限
    ├── 项目类型配置
    └── 系统参数
```

### 4.2 核心页面原型

#### 项目详情页
```
┌─────────────────────────────────────────────────────────┐
│  XX企业安防监控项目                    [编辑] [更多]    │
├─────────────────────────────────────────────────────────┤
│  状态: 进行中  │  经理: 张三  │  2024-01-15 ~ 2024-02-15│
├─────────────────────────────────────────────────────────┤
│                                                           │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐   │
│  │ 分包金额 │  │ 已收金额 │  │ 总支出   │  │ 预计利润 │   │
│  │ ¥50,000 │  │ ¥25,000 │  │ ¥32,000 │  │ ¥18,000 │   │
│  └─────────┘  └─────────┘  └─────────┘  └─────────┘   │
│                                                           │
│  [收支明细] [采购记录] [物流跟踪] [实施进度] [交付文档]  │
│                                                           │
│  进度: ━━━━━━━━━━━━━━━━━━ 60%                            │
│                                                           │
│  当前阶段: 现场实施                                        │
│                                                           │
│  近期动态:                                                │
│  • 2024-02-01: 采购设备已发货（顺丰：SF1234567890）        │
│  • 2024-02-03: 完成一楼布线                               │
│  • 2024-02-05: 摄像头安装中                               │
│                                                           │
└─────────────────────────────────────────────────────────┘
```

#### 物流跟踪页面
```
┌─────────────────────────────────────────────────────────┐
│  物流跟踪                                [添加物流]      │
├─────────────────────────────────────────────────────────┤
│                                                           │
│  采购单: PO20240201001                                   │
│  供应商: XX设备有限公司                                   │
│                                                           │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 物流单号: SF1234567890                           │   │
│  │ 物流公司: 顺丰速运                               │   │
│  │ 发货时间: 2024-02-01 10:30                       │   │
│  │ 预计到达: 2024-02-03                             │   │
│  │ 状态: 在途                                       │   │
│  │ 收货人: 张三                                     │   │
│  │ [确认收货] [查看详情]                            │   │
│  └─────────────────────────────────────────────────┘   │
│                                                           │
└─────────────────────────────────────────────────────────┘
```

---

## 5. API 接口设计

### 5.1 项目相关
- `GET /api/projects` - 获取项目列表
- `POST /api/projects` - 创建项目
- `GET /api/projects/:id` - 获取项目详情
- `PUT /api/projects/:id` - 更新项目
- `DELETE /api/projects/:id` - 删除项目
- `GET /api/projects/:id/summary` - 获取项目概况（财务、进度）

### 5.2 财务相关
- `GET /api/projects/:id/financial` - 获取收支记录
- `POST /api/projects/:id/financial` - 添加收支记录
- `GET /api/projects/:id/profit` - 获取利润分析
- `GET /api/reports/monthly` - 月度财务报表

### 5.3 采购相关
- `POST /api/purchase-orders` - 创建采购订单
- `GET /api/purchase-orders` - 获取采购订单列表
- `GET /api/purchase-orders/:id` - 获取采购订单详情
- `GET /api/suppliers` - 获取供应商列表
- `POST /api/suppliers` - 添加供应商

### 5.4 物流相关
- `POST /api/purchase-orders/:id/logistics` - 添加物流信息
- `GET /api/purchase-orders/:id/logistics` - 获取物流信息
- `PUT /api/logistics/:id/confirm` - 确认收货

### 5.5 进度相关
- `GET /api/projects/:id/tasks` - 获取任务列表
- `POST /api/projects/:id/tasks` - 创建任务
- `PUT /api/tasks/:id` - 更新任务
- `POST /api/projects/:id/progress` - 提交进度日志
- `GET /api/projects/:id/progress` - 获取进度日志

### 5.6 交付相关
- `GET /api/projects/:id/deliverables` - 获取交付文档列表
- `POST /api/projects/:id/deliverables/generate` - 生成交付文档
- `GET /api/projects/:id/warranty` - 获取质保信息

---

## 6. 业务流程示例

### 6.1 新项目建立流程

```
1. 收到电信派单
   └─> 创建项目，录入电信项目编号、客户信息

2. 需求调研阶段
   └─> 创建"现场勘查"任务
   └─> 提交勘查报告
   └─> 根据勘查结果生成设备清单

3. 方案确认阶段
   └─> 生成方案文档
   └─> 客户签字确认
   └─> 状态变更为"方案已确认"

4. 设备采购阶段
   └─> 根据设备清单创建采购订单
   └─> 询价比价，选择供应商
   └─> 下达采购订单
   └─> 供应商发货，录入物流信息
   └─> 跟踪物流，确认收货

5. 现场实施阶段
   └─> 分配施工任务
   └─> 每日/每周提交进度日志
   └─> 上传现场照片
   └─> 记录遇到的问题

6. 测试验收阶段
   └─> 系统测试
   └─> 生成测试报告
   └─> 客户验收签字
   └─> 生成交付文档包

7. 项目交付阶段
   └─> 状态变更为"已交付"
   └─> 整理竣工资料
   └─> 提交电信公司验收
   └─> 收到验收款，记录收入

8. 售后跟进阶段
   └─> 进入质保期
   └─> 响应售后报修
   └─> 记录维修情况
```

### 6.2 收支记录流程

```
收入记录：
├─ 电信派单时，记录分包金额（作为预计收入）
├─ 收到首付款，记录收入
├─ 项目验收后收到验收款，记录收入
└─ 统计总收入，计算利润

支出记录：
├─ 采购设备付款，记录支出（类型：设备采购）
├─ 支付施工队费用，记录支出（类型：工程施工）
├─ 差旅费用报销，记录支出（类型：差旅费用）
└─ 其他支出，记录支出（类型：业务费用）
```

### 6.3 物流跟踪流程

```
├─ 供应商发货
│  └─> 录入物流单号、物流公司、发货时间
│
├─ 物流在途
│  └─> 系统显示物流状态为"在途"
│
└─> 确认收货
   └─> 更新物流状态为"已签收"
   └─> 记录实际到达时间
```

---

## 7. 技术实现建议

### 7.1 推荐技术栈

| 层次 | 技术选型 | 说明 |
|------|---------|------|
| 前端 | Vue 3 + Element Plus | 组件丰富，适合后台系统 |
| 后端 | Node.js + Express / Python + FastAPI | 轻量高效 |
| 数据库 | SQLite (开发) / PostgreSQL (生产) | 简单可靠 |
| ORM | Prisma (Node) / SQLAlchemy (Python) | 类型安全 |
| 文档生成 | docxtemplater / python-docx | Word模板生成 |
| 部署 | Docker + Nginx | 容器化部署 |

### 7.2 部署架构

```
┌────────────────────────────────────────┐
│           Nginx (反向代理)              │
│     /static  ──> 前端静态文件           │
│     /api     ──> 后端API服务            │
└────────────────┬───────────────────────┘
                 │
     ┌───────────┴───────────┐
     │                       │
┌────▼─────┐         ┌──────▼──────┐
│  前端     │         │  后端 API    │
│  Vue 3    │         │  Node.js    │
│  静态文件  │         │  Express    │
└──────────┘         └──────┬───────┘
                            │
                    ┌───────▼────────┐
                    │  数据库         │
                    │  PostgreSQL    │
                    └────────────────┘
```

---

## 8. 开发计划

### 8.1 第一阶段 (MVP - 2周)
- [ ] 用户登录与权限
- [ ] 项目CRUD功能
- [ ] 项目列表与详情页
- [ ] 收支记录功能
- [ ] 利润自动计算

### 8.2 第二阶段 (核心功能 - 4周)
- [ ] 采购订单管理
- [ ] 供应商管理
- [ ] 物流信息跟踪
- [ ] 任务管理系统
- [ ] 进度日志功能

### 8.3 第三阶段 (完善功能 - 3周)
- [ ] 交付文档生成
- [ ] 财务报表
- [ ] 售后服务管理
- [ ] 移动端适配
- [ ] 数据导出

---

## 9. 非功能性需求

### 9.1 易用性
- 界面简洁，操作流程清晰
- 关键数据一目了然
- 支持快捷操作

### 9.2 可靠性
- 数据备份机制
- 操作日志记录
- 关键操作确认

### 9.3 安全性
- 用户身份验证
- 角色权限控制
- 敏感数据加密

### 9.4 性能
- 页面响应时间 < 2秒
- 支持并发用户数 > 20

---

## 10. 附录

### 10.1 ICT项目常见设备清单

| 类别 | 设备 | 品牌 |
|------|------|------|
| 网络设备 | 交换机 | 华为/H3C/锐捷 |
| 路由器 | 企业路由 | 华为/H3C/锐捷 |
| 防火墙 | 安全网关 | 天融信/深信服 |
| 安防监控 | 摄像机 | 海康/大华 |
| NVR | 录像机 | 海康/大华 |
| 硬盘 | 监控硬盘 | 西部数据/希捷 |
| 视频会议 | 终端 | 华为/中兴/Polycom |
| MCU | 多点控制单元 | 华为/中兴 |
| 显示屏 | 会议电视 | 海信/创维 |
| 布线材料 | 网线 | 康普/普天 |
| 光纤 | 光缆 | 康普/普天 |
| 配件 | 支架/电源/水晶头 | 各种品牌 |

### 10.2 术语表

| 术语 | 说明 |
|------|------|
| ICT | Information and Communications Technology，信息通信技术 |
| 分包 | 电信公司把项目转包给我们 |
| 派单号 | 电信公司的项目编号 |
| NVR | Network Video Recorder，网络录像机 |
| MCU | Multipoint Control Unit，多点控制单元 |

---

*文档版本: 3.0*
*更新日期: 2026-02-25*
*适用场景: 电信公司分包的ICT项目管理*
*简化说明：无预算管理，仅收支记录；无库存出入库，仅物流单号跟踪*
